"use strict";((e,t,a=this,r={o:e=>{if(~e.indexOf("audio_api_unavailable")){let t=e.split("?extra=")[1].split("#"),a=""===t[1]?"":r.a(t[1]);if(t=r.a(t[0]),"string"!=typeof a||!t)return e;a=a?a.split(String.fromCharCode(9)):[];for(let i,o,n=a.length;n--;){if(o=a[n].split(String.fromCharCode(11)),i=o.splice(0,1,t)[0],!r.l[i])return e;t=r.l[i].apply(null,o)}if(t&&"http"==t.slice(0,4))return t}return e},r:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN0PQRSTUVWXYZO123456789+/=",a:(e,t="")=>{if(!e||e.length%4==1)return!1;for(let a,i,o=0,n=0;i=e.charAt(n++);)i=r.r.indexOf(i),~i&&(a=o%4?64*a+i:i,o++%4)&&(t+=String.fromCharCode(255&a>>(-2*o&6)));return t},s:(e,t)=>{let a=e.length,r=a,i=[];if(a)for(t=Math.abs(t);r--;)t=(a*(r+1)^t+r)%a,i[r]=t;return i},l:{v:e=>e.split("").reverse().join(""),r:(e,t)=>{e=e.split("");for(let a,i=r.r+r.r,o=e.length;o--;)a=i.indexOf(e[o]),~a&&(e[o]=i.slice(a-t,1));return e.join("")},s:(e,t)=>{let a=e.length;if(a){let i=r.s(e,t),o=0;for(e=e.split("");++o<a;)e[o]=e.splice(i[a-1-o],1,e[o])[0];e=e.join("")}return e},i:(e,a)=>r.l.s(e,a^t),x:(e,t)=>{let a=[];return t=t.charCodeAt(0),e.split("").forEach((e=>a.push(String.fromCharCode(e.charCodeAt(0)^t)))),a.join("")}}},i=(()=>{let r=e.body,s=e.createElement("style"),l=e.createElement("script");s.textContent=".audioSize svg {opacity: 0.85}",r.append(s,l),l.src="dist/"+Object.keys(a.stVersions||{}).filter((e=>/\/hls/.test(e)))[0],l.onload=i.hls=()=>!a.Hls&&Object.keys(a).filter((e=>/webpack/.test(e)&&Array.isArray(a[e]))).map((e=>a[e])).flat().forEach((e=>{if(e[1])for(let t in e[1])~e[1][t].toString().indexOf("hls.js")&&(e[1][t](e,t,{d:(t,a)=>e=a,r:e=>e}),e.default&&(a.Hls=e.default()))}));let d=e.head.textContent.match(/id: ?([0-9]+)/i);d&&d[0]&&(t=+d[1]),n(r),new MutationObserver((e=>{e.forEach((e=>"childList"==e.type&&e.addedNodes.forEach((e=>(1==e.nodeType||9==e.nodeType)&&n(e))))),clearTimeout(d),d=setTimeout((()=>t&&!a.st&&a.cur&&/audio|feed/.test(cur.module)&&o(cur)),50)})).observe(r,{childList:!0,subtree:!0})}),o=(t=>{let r=/news|recommended/.test(t.section)&&a.feed_rows,i="yaContextCb",o=(e,t,a)=>t.forEach(((t,r)=>a.sheet.insertRule("#"+e+t,r))),n=(e,t)=>(a[i]=a[i]||(a.AdsLight&&AdsLight.initYaDirect(),[])).push((()=>Ya.Context.AdvManager.render({blockId:"R-A-1686158"+~t,renderTo:e}))),s=a.narrow_column||"my"==t.submodule&&e.querySelector(".CatalogSection__stickyColumn");if(r&&!a[t.h]){t.h="p"+Math.random().toString(16).slice(2);let a=e.createElement("div"),i=e.createElement("div"),s=e.createElement("style"),l=["{width:"+r.offsetWidth+"px!important;overflow:clip!important}"];a.className="feed_row",i.className="page_block",i.id=t.h,a.append(i,s),r.insertBefore(a,r.children[1]),n(i.id,0),o(i.id,l,s)}if(s&&new Date>(localStorage.VBT||"")&&!a[t.v]){t.v="p"+Math.random().toString(16).slice(2);let a=e.createElement("div"),i=e.createElement("div"),l=e.createElement("div"),d=e.createElement("style"),p=["{width:240px!important;transform:scale("+(r?s.offsetWidth/240+",1)":".916,1);margin:5px -10px 0!important;border-radius:8px")+";transform-origin:left;overflow:hidden!important}",'+div{background:#3338 url(\'data:image/svg+xml,<svg viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path stroke="white" stroke-linecap="round"/></svg>\');backdrop-filter:blur(5px);padding:12px;position:absolute;top:4px;right:'+(r?4:-8)+"px;border-radius:50%;opacity:0;transition:.2s;z-index:2}",":hover+div{opacity:1}","+div:hover{opacity:1;cursor:pointer}",">*{width:calc(100% + 2px)!important;height:calc(100% + 2px)!important;margin:-1px!important;display:block!important}"];r&&(i.className="page_block"),i.id=t.v,a.append(d,i,l),a.style.position="relative",s.append(a),n(i.id,1),l.addEventListener("click",(()=>{localStorage.VBT=+new Date+432e5,a.remove()})),o(i.id,p,d),p=s.querySelector("[data-type=placeholder]"),p&&p.parentElement.remove()}}),n=(e=>{if(e.classList&&e.classList.contains("audio_row"))return s(e);e.querySelectorAll(".audio_row").forEach(s)}),s=(t=>{if(t.A||t.classList.contains("audio_claimed"))return;let r=e.createElement("a"),i=e.createElement("a"),o=d(t),n=e=>{i.dataset.size=i.size,i.href=URL.createObjectURL(new Blob(e)),i.click()};r.className="size",i.className="audioSize",i.id="audioCount",r.dataset.size="load",i.innerHTML=' <svg  xmlns="http://www.w3.org/2000/svg"\n width="17.000000pt" height="17.000000pt"  viewBox="0 0 185.000000 185.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.16, written by Peter Selinger 2001-2019\n</metadata>\n<g transform="translate(0.000000,185.000000) scale(0.100000,-0.100000)"\nfill="#2C8AFF" stroke="none">\n<path d="M850 1777 c-83 -44 -80 -19 -80 -631 l0 -540 -168 166 c-103 102\n-179 169 -195 174 -45 11 -131 -1 -160 -22 -34 -24 -67 -90 -67 -134 0 -71 33\n-111 348 -421 169 -166 321 -308 339 -315 44 -19 92 -17 134 4 19 9 170 152\n336 316 310 305 343 346 343 416 0 44 -33 110 -67 134 -29 21 -115 33 -159 22\n-17 -5 -92 -70 -191 -168 l-162 -161 -3 529 c-3 513 -4 530 -24 569 -24 47\n-89 85 -144 85 -20 0 -56 -10 -80 -23z"/>\n</g>\n</svg>\n',i.addEventListener("mouseenter",(t=>{"load"==r.dataset.size.slice()&&p(o.ids,(t=>{if(!t)return i.dataset.size="try wait...";if(i.download=o.name,i.url=t.url,t.size)c(i,r,t.size,o.duration);else if(a.Hls&&Hls.isSupported()){let t,a,o,s,l=new Hls,d=e.createElement("audio"),p=[],h=0,f=e=>{l.stopLoad(),l.destroy()};l.on(Hls.Events.MANIFEST_PARSED,((e,t)=>{t=t.levels[0].details,a=t.fragments.length,s=t.totalduration})),l.on(Hls.Events.BUFFER_CODECS,((e,t)=>o=t.audio&&"audio/mp4"==t.audio.container)),l.on(Hls.Events.BUFFER_APPENDING,((e,a)=>t=a.data)),l.on(Hls.Events.FRAG_BUFFERED,((e,h)=>{if(!i.start&&t)return l.detachMedia(),i.load=()=>l.attachMedia(d),c(i,r,t.length/h.frag.duration*s,s);t&&p.push(o?t.slice(8,t.length):t),d.currentTime=h.frag.start+h.frag.duration,u(i,r,p.length,a),p.length>=a&&(f(),n(p))})),l.on(Hls.Events.ERROR,((e,t)=>"bufferFullError"==t.details||"fragLoadError"==t.details?f(e):t.type==Hls.ErrorTypes.MEDIA_ERROR&&h<2?(++h>1&&l.swapAudioCodec(),l.recoverMediaError()):void f(e))),l.loadSource(i.url),l.attachMedia(d)}}))})),i.addEventListener("click",(async e=>{if(e.stopPropagation(),e.isTrusted&&i.size&&!i.href)if(e.preventDefault(),i.load)i.start=1,i.load();else{let e=await fetch(i.url),t=e.body.getReader(),a=+e.headers.get("Content-Length"),r=0,o=[];for(;;){let{done:e,value:n}=await t.read();if(e)break;o.push(n),u(i,r+=n.length,a)}n(o)}})),t.querySelector(".audio_row__info").append(i,r),t.A=1}),l=((e,t,a)=>{let r=new XMLHttpRequest;r.open(t?"post":"head",e,!0),t&&(r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("X-Requested-With","XMLHttpRequest")),r.onreadystatechange=()=>4==r.readyState&&a(r),r.send(t)}),d=(e=>{if(e.dataset.audio){let t=JSON.parse(e.dataset.audio),a="";if(null!=t[13]){let e=t[13].split("/");a=t[1]+"_"+t[0]+"_"+e[0==e[1].length?2:3]+"_"+e[5]}return{name:h(t[4]+" - "+t[3]+(t[16]?" ("+t[16]+")":"")),duration:t[5],ids:a}}}),p=((e,t)=>{l("/music","act=reload_audio&al=1&ids="+e,(e=>{if((e=JSON.parse(e.responseText))&&e.payload&&e.payload[1]&&e.payload[1][0]&&"string"!=typeof e.payload[1][0][0]){let a,i=e.payload[1][0][0],o=r.o(i[2]),n={url:o};if(/\.m3u8\?/.test(o)){let e=(a=o.replace("/index.m3u8",".mp3")).split("/"),r=~a.indexOf("audios")?1:0;e.splice(e.length-(2+r),1),a=e.join("/"),l(a,"",(e=>{(e=e.getResponseHeader("Content-Length"))&&(n.url=a,n.size=e),t(n)}))}else t(n)}else t()}))}),c=((e,t,a,r)=>{let i=Math.floor(Math.log(a)/Math.log(1024));t.dataset.size=t.size=Math.min(32*Math.round(a/4096/r),320),e.dataset.sizeMb=e.size=a?(a/Math.pow(1024,i)).toFixed(2)+" "+["B","KB","MB","GB"][i]:"0 B"}),u=((e,t,a,r)=>t.dataset.size="".repeat(new Date/1e3%4)+""+(a/r*100).toFixed()+"%"),h=(t=>{t=t.replace(/&#([0-9]{2,5});/g,((e,t)=>String.fromCharCode(+t)));let a=e.createElement("textarea");return a.innerHTML=t,a.value.replace(/[\/:*?"<>|~]/g,"").replace(/[_\s]+/g," ").trim()+".mp3"}))=>{"complete"==e.readyState?i():e.addEventListener("DOMContentLoaded",i)})(document);